---
layout: null
---
{{ site.time }}
<script>
{% assign depth = 0 %}
{% assign arr = "/" | split: "" %}
{% assign currentMenu = "/" %}
{% capture output %}[{% endcapture %}
{% for item in site.repositories %}
console.group("{{ item.url }}");
  {% for i in arr %}
    console.log({ depth: "{{ depth }}", currentMenu: "{{ currentMenu }}" });
    {% if item.url contains currentMenu or depth == 0 %}
      {% continue 1 %}
    {% else %}
      {% assign depth = depth | minus: 1 %}
      {% assign currentMenu = arr[depth] %}
{% capture output %}{{ output }}
null
]
},{% endcapture %}
    {% endif %}
  {% endfor %}
  {% if item.next and (item.next.url contains item.url) %}
    {% assign depth = depth | plus: 1 %}
    {% assign arr[depth] = item.url %}
    {% assign currentMenu = item.url %}
{% capture output %}{{ output }}
{
  "title": "{{ item.title }}",
  "items": [{% endcapture %}
  {% elsif item.url contains currentMenu %}
  {% capture output %}{{ output }}
{
  "title": "{{ item.title }}"
},{% endcapture %}
  {% else %}
{% capture output %}{{ output }}
{
  "type": "ERROR",
  "currentMenu": "{{ currentMenu }}",
  "depth": "{{ depth }}",
  "title": "{{ item.title }}"
},{% endcapture %}
  {% endif %}
{% endfor %}
{% for i in arr %}
  {% unless forloop.index0 > depth %}
{% capture output %}{{ output }}
null
]
},{% endcapture %}
  {% endunless %}
console.groupEnd()
{% endfor %}
{% capture output %}{{ output }}
null
]{% endcapture %}
console.log({{ output }});
</script>
