---
layout: null
---
<script>tmp=[
{% assign depth = 0 %}
{% assign arr = "/" | split: "" %}
{% assign currentMenu = "/" %}
{% for item in site.repositories %}
  {% for i in arr %}
    {% if item.url contains currentMenu or depth == 0 %}
      {% break %}
    {% else %}
      {% assign depth = depth | minus: 1 %}
      {% assign currentMenu = arr[depth] %}
      null ] },
    {% endif %}
  {% endfor %}
  {% if item.next and (item.next.url contains item.url) %}
    {% assign depth = depth | plus: 1 %}
    {% assign arr[depth] = item.url %}
    {% assign currentMenu = item.url %}
    {
      "title": "{{ item.title }}",
      "items": [
  {% elsif item.url contains currentMenu %}
    {
      "title": "{{ item.title }}"
    },
  {% else %}
    {
      "type": "ERROR",
      "currentMenu": "{{ currentMenu }}",
      "depth": "{{ depth }}",
      "title": "{{ item.title }}"
    },
  {% endif %}
{% endfor %}
{% for i in arr %}
  {% unless forloop.index0 > depth %}
null ] },
  {% endunless %}
{% endfor %}
null ];
console.log(tmp);
</script>
